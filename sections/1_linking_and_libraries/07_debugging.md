##### Дебаг. Что такое сборка в дебаг-режиме и в чем ее отличие от обычной?

**Сборка в debug‑режиме:**

Обычно означает:

- добавлена отладочная информация (`-g`, иногда `-g3`);
- оптимизации отключены или снижены (`-O0` или `-Og`).

Пример:

```bash
g++ -g -O0 main.cpp -o main
```

Отличия от обычной сборки:

- бинарь крупнее;
- программа медленнее;
- gdb может показывать исходный код, имена и значения переменных, нормальные стеки вызовов.

##### Как с помощью gdb отлаживать программу: поставить breakpoint на строчку кода или на функцию, делать шаги по строчкам (с заходом в функции и без него), выводить текущие значения переменных?

Запуск:

```bash
gdb ./main
```

Установка точек останова:

- по имени функции:
  ```gdb
  (gdb) break main
  (gdb) break foo
  ```
- по номеру строки:
  ```gdb
  (gdb) break file.cpp:42
  ```

Запуск программы под gdb:

```gdb
(gdb) run
```

Пошаговое выполнение:

- `next` (`n`) -- перейти к следующей строке **без захода** в вызываемые функции;
- `step` (`s`) -- перейти к следующей строке **с заходом** в функцию;
- `continue` (`c`) -- продолжить выполнение до следующего breakpoint’а или завершения.

Просмотр переменных:

- все локальные в текущем фрейме:
  ```gdb
  (gdb) info locals
  ```
- конкретную переменную:
  ```gdb
  (gdb) print x
  ```

##### Как посмотреть backtrace от текущего места исполнения?

Когда программа остановилась (по breakpoint’у или из‑за падения):

```gdb
(gdb) backtrace     # или bt
(gdb) bt full       # стек + локальные переменные
```

##### Что означает фраза “core dumped” и как с помощью gdb посмотреть содержимое coredump-файла после того, как программа упала?

Строка вида:

```text
Segmentation fault (core dumped)
```

означает, что процесс завершился из‑за сигнала (например, `SIGSEGV`, `SIGABRT`, `SIGFPE`, `SIGILL`) и ядро сохранило
дамп памяти процесса -- **core‑файл**.

Чтобы core‑файлы создавались, нужно разрешить их размер:

```bash
ulimit -c unlimited
```

После падения программы появится файл `core` или `core.<pid>`. Анализ:

```bash
gdb ./main core
```

Внутри gdb:

```gdb
(gdb) bt           # стек вызовов в момент падения
(gdb) frame N      # перейти к интересующему фрейму
(gdb) info locals  # посмотреть локальные переменные в нём
```

Так можно отлаживать даже уже упавшую программу.
